
<style>
    .overflow-hidden {
        overflow: hidden !important
    }

    .mb-4, .my-4 {
        margin-bottom: 1.5rem !important
    }

    .glyphicon {
        margin-right: 4px !important; /*override*/
    }

    .pagination .glyphicon {
        margin-right: 0px !important; /*override*/
    }

    .pagination a {
        color: #555;
    }

    .panel ul {
        padding: 0px;
        margin: 0px;
        list-style: none;
    }

    .news-item {
        padding: 4px 4px;
        margin: 0px;
        border-bottom: 1px dotted #555;
        list-style: none;
    }

    .news-demo-down-auto {
        padding: 10px;
    }

    .border-shadow {
        box-shadow: 2px -1px 32px -1px rgb(0 0 0 / 59%);
        -webkit-box-shadow: 2px -1px 32px -1px rgb(123 122 122 / 59%);
        -moz-box-shadow: 2px -1px 32px -1px rgba(0,0,0,0.59);
        padding: 5px 16px 1px 16px;
    }

    .card-holiday {
        min-height: 167px;
    }

    .news {
        width: 260px;
    }

    .news-scroll a {
        text-decoration: none;
    }

    .dropdown-small {
        height: 32px;
        padding-left: 10px;
        margin-right: 10px;
        border: 1px solid white;
    }
</style>

@*<section id="wiSection"></section>*@

<div aria-label="breadcrumb" class="breadcrumb" id="page-header">
    <div class="container-fluid">
        <h5 class="float-left pt-1">
            <i class="fa fa-home"></i>Business Dashboard
        </h5>
        <ol class="breadcrumb float-right">
            <li class="breadcrumb-item">
                <a href="javascript:void(0)">Home</a>
            </li>
            <li class="breadcrumb-item active">Business Dashboard</li>
        </ol>
    </div>
</div>
<div class="main-temp-body">
    <div class="container-fluid">
        <div class="bg-purple row mb-0 pl-3 pr-3">
            @*<marquee behavior="scroll"><span id="divNews" class="text-white" style="font-size: 18px;"></span></marquee>*@
            <div class="col-md-12">
                <div class="d-flex justify-content-between align-items-center breaking-news bg-white" style="margin-top:20px">
                    <div class="d-flex flex-row flex-grow-1 flex-fill justify-content-center bg-danger py-2 text-white px-1 news"><span class="d-flex align-items-center">&nbsp;Recent News</span></div>
                    <marquee class="news-scroll" behavior="scroll" direction="left" onmouseover="this.stop();" onmouseout="this.start();">
                        <span id="divNews">
                            Recent news will appear here!
                        </span>
                    </marquee>
                </div>
            </div>
        </div>



        <div class="mt-5">
            <div class="bg-grey-light grid-margin">
                <div class="card bg-grey-light card-det-short">
                    <div class="row">
                        <div class="col-sm-6 col-xl-2">
                            <div class="widget bg-cyan">
                                <a class="stats-left " href="/RechargeReport">
                                    <h5>Transaction</h5>
                                    <h4>History</h4>
                                </a>
                                <div class="stats-right border-cyan">
                                    <label><i class="fas fa-file-alt tx-60 lh-0 txt-cyan op-7"></i></label>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>

                        <div class="col-sm-6 col-xl-2">
                            <div class="widget bg-red">
                                <a class="stats-left " href="/UserLedger">
                                    <h5>Account</h5>
                                    <h4>Ledger</h4>
                                </a>
                                <div class="stats-right border-red">
                                    <label><i class="fa fa-chart-bar tx-60 lh-0 txt-red op-7"></i></label>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>

                        <div class="col-sm-6 col-xl-2">
                            <div class="widget bg-yellow">
                                <a class="stats-left " href="/FundReceiveStatement">
                                    <h5>Purchase</h5>
                                    <h4>History</h4>
                                </a>
                                <div class="stats-right border-yellow">
                                    <label><i class="fas fa-shopping-basket tx-60 lh-0 txt-yellow op-7"></i></label>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>

                        <div class="col-sm-6 col-xl-2">
                            <div class="widget bg-dark">
                                <a class="stats-left " href="/USalesSummary">
                                    <h5>Sales</h5>
                                    <h4>Summary</h4>
                                </a>
                                <div class="stats-right border-dark">
                                    <label><i class="fas fa-book-open tx-60 lh-0 txt-dark op-7"></i></label>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>

                        <div class="col-sm-6 col-xl-2">
                            <div class="widget bg-green">
                                <a class="stats-left " href="/UDaybook">
                                    <h5>Day</h5>
                                    <h4>Book</h4>
                                </a>
                                <div class="stats-right border-green">
                                    <label><i class="fas fa-book tx-60 lh-0 txt-green op-7"></i></label>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>

                        <div class="col-sm-6 col-xl-2">
                            <div class="widget bg-blue">
                                <a class="stats-left " href="/fund-request">
                                    <h5>Fund</h5>
                                    <h4> Request</h4>
                                </a>
                                <div class="stats-right border-blue">
                                    <label> <i class="fas fa-rupee-sign tx-60 lh-0 txt-blue op-7"></i></label>
                                </div>
                                <div class="clearfix"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

        </div>

        <div class="services-panel mb-4 mt-2">
            <div class="row">
                <div class="col-3">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="card mb-3 mt-3" style="border-radius: 04px;">
                                <div id="line-dmt7" style="height: 210px; width:100%;background-color:white"></div>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-12">
                            <div class="card mb-3" style="border-radius: 04px;">
                                <div id="line-dmt9" style="height: 210px; width:100%;background-color:white"></div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-6">
                    <section id="asSection" class="border-shadow mt-3">
                        <!--Account Section will be bind at runtime-->
                    </section>
                    <section id="tsSection" class="border-shadow mt-2">
                        <!--Transaction Section will be bind here at runtime-->
                    </section>
                    <section id="dsSection" class="border-shadow mt-2">
                        <!--Dealer Section will be bind here at runtime-->
                    </section>
                </div>



                <div class="col-3">
                    <!--<section id="newsSection">-->
                    <!--News Section Binding will be here at runtime-->
                    <!--</section>-->

                    <section id="usrDSUM" class="mt-3">
                        <!--Dashboard Summary will be bind here at runtime-->
                    </section>

                    <section id="holidaysSection">
                        <!--Holidays section will be bind at runtime -->
                    </section>
                </div>
            </div>
        </div>


        <div class="distr-info border-shadow pb-3 mb-3">
            <div class="row">
                <div class="col-12 pt-2 pb-2">
                    <h6 class="float-left">Transaction Activities</h6>

                    <div class="btn-group float-right ml-2">
                        <button type="button" class="btn btn-light active btn-sm btnRequestType" data-value="1">By Amount</button>
                        <button type="button" class="btn btn-light btn-sm btnRequestType" data-value="2">By Count</button>

                    </div>

                    <div class="btn-group float-right">
                        <button type="button" class="btn btn-light active btn-sm btnActivityType" data-value="daily">Daily</button>
                        <button type="button" class="btn btn-light btn-sm btnActivityType" data-value="weekly">Weekly</button>
                        <button type="button" class="btn btn-light  btn-sm btnActivityType" data-value="monthly">Monthly</button>
                    </div>

                    <div class="btn-group float-right">
                        <select class="dropdown-small" id="servicelist">
                            <option value="0">All</option>
                        </select>
                    </div>

                </div>
                <div class="col-12">
                    <div class="row">
                        <div class="col-sm-12">
                            <div id="month-chart" style="height:350px;width:100%;background-color:white"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="distr-info border-shadow pb-3 mb-3">
            <div class="row">
                <div class="col-12 pt-2 pb-2">
                    <h6 class="float-left">Transaction Status - Service wise Contribution</h6>

                    <div class="btn-group float-right">
                        <button type="button" class="btn btn-light active btn-sm btnServiceWiseRequestType" data-value="1">By Amount</button>
                        <button type="button" class="btn btn-light btn-sm btnServiceWiseRequestType" data-value="2">By Count</button>

                    </div>

                    <div class="btn-group float-right">
                        <input aria-describedby="date" class="dropdown-small" id="date" tabindex="6" type="text" readonly="readonly" value="@DateTime.Now.ToString(" dd MMM yyyy")">
                        <small id="Small4" class="form-text text-muted d-none"></small>

                        <select class="dropdown-small" id="optypelist">
                            <option value="0">All</option>
                        </select>
                    </div>
                </div>
                <div class="col-12">
                    <div class="row">
                        <div class="col-sm-12">
                            <div id="optype-datewise-chart" style="height:450px;width:100%;background-color:white"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>


        <div class="col-12">
            <div class="row">
                <div class="col-6 pl-0 pr-1">
                    <div class="col-12 distr-info border-shadow pb-3 mb-3">
                        <div class="row">
                            <div class="col-12 pt-2 pb-2">
                                <h6 class="float-left">Today's Split</h6>

                                <div class="btn-group float-right ml-2">
                                    <button type="button" class="btn btn-light active btn-sm btnSplitRequestType" data-value="1">By Amount</button>
                                    <button type="button" class="btn btn-light btn-sm btnSplitRequestType" data-value="2">By Count</button>
                                </div>

                            </div>
                            <div class="col-12">
                                <div class="row">
                                    <div class="col-sm-12">
                                        <div id="today-split-chart" style="height:350px;width:100%;background-color:white"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-6 pr-0 pl-1">
                    <partial name="~/Views/Report/PartialView/_RecentActivity.cshtml" model="Model" />
                </div>

            </div>
        </div>



        <div class="distr-info border-shadow pb-3 mb-3">
            <div class="row">
                <div class="col-12 pt-2 pb-2">
                    <h6>Last 7 Days Transaction Activities</h6>
                </div>
                <div class="col-12">
                    <div class="row">
                        <div class="col-4">
                            <div class="col-sm-12 p-2 text-center" style="background: #dadada;font-size: 12px;">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <div class="lmtd">LMTD</div>
                                        <div class="lmtdAmt">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lmtd">MTD</div>
                                        <div class="mtdAmt">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lmtd">Last Day</div>
                                        <div class="lastAmt">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lmtd">Today</div>
                                        <div class="todayAmt">0</div>
                                    </div>
                                </div>
                            </div>

                            <div id="line-dmt" style="height: 150px; width:100%;background-color:white"></div>

                            <div class="col-sm-12 p-2 text-center text-white bg-grey ml-0" style="font-size: 12px;">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <div class="lmtdCount">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="mtdCount">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lastCount">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="todayCount">0</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-4">
                            <div class="col-sm-12 p-2 text-center" style="background: #dadada;font-size: 12px;">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <div class="lmtd">LMTD</div>
                                        <div class="lmtdAmt">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lmtd">MTD</div>
                                        <div class="mtdAmt">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lmtd">Last Day</div>
                                        <div class="lastAmt">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lmtd">Today</div>
                                        <div class="todayAmt">0</div>
                                    </div>
                                </div>
                            </div>

                            <div id="line-dmt2" style="height: 150px; width:100%;background-color:white"></div>

                            <div class="col-sm-12 p-2 text-center text-white bg-grey ml-0" style="font-size: 12px;">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <div class="lmtdCount">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="mtdCount">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lastCount">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="todayCount">0</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-4">
                            <div class="col-sm-12 p-2 text-center" style="background: #dadada;font-size: 12px;">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <div class="lmtd">LMTD</div>
                                        <div class="lmtdAmt">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lmtd">MTD</div>
                                        <div class="mtdAmt">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lmtd">Last Day</div>
                                        <div class="lastAmt">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lmtd">Today</div>
                                        <div class="todayAmt">0</div>
                                    </div>
                                </div>
                            </div>

                            <div id="line-dmt3" style="height: 150px; width:100%;background-color:white"></div>

                            <div class="col-sm-12 p-2 text-center text-white bg-grey ml-0" style="font-size: 12px;">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <div class="lmtdCount">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="mtdCount">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lastCount">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="todayCount">0</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="row mt-3">
                        <div class="col-4">
                            <div class="col-sm-12 p-2 text-center" style="background: #dadada;font-size: 12px;">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <div class="lmtd">LMTD</div>
                                        <div class="lmtdAmt">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lmtd">MTD</div>
                                        <div class="mtdAmt">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lmtd">Last Day</div>
                                        <div class="lastAmt">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lmtd">Today</div>
                                        <div class="todayAmt">0</div>
                                    </div>
                                </div>
                            </div>

                            <div id="line-dmt4" style="height: 150px; width:100%;background-color:white"></div>

                            <div class="col-sm-12 p-2 text-center text-white bg-grey ml-0" style="font-size: 12px;">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <div class="lmtdCount">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="mtdCount">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lastCount">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="todayCount">0</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-4">
                            <div class="col-sm-12 p-2 text-center" style="background: #dadada;font-size: 12px;">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <div class="lmtd">LMTD</div>
                                        <div class="lmtdAmt">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lmtd">MTD</div>
                                        <div class="mtdAmt">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lmtd">Last Day</div>
                                        <div class="lastAmt">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lmtd">Today</div>
                                        <div class="todayAmt">0</div>
                                    </div>
                                </div>
                            </div>

                            <div id="line-dmt5" style="height: 150px; width:100%;background-color:white"></div>

                            <div class="col-sm-12 p-2 text-center text-white bg-grey ml-0" style="font-size: 12px;">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <div class="lmtdCount">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="mtdCount">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lastCount">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="todayCount">0</div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="col-4">
                            <div class="col-sm-12 p-2 text-center" style="background: #dadada;font-size: 12px;">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <div class="lmtd">LMTD</div>
                                        <div class="lmtdAmt">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lmtd">MTD</div>
                                        <div class="mtdAmt">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lmtd">Last Day</div>
                                        <div class="lastAmt">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lmtd">Today</div>
                                        <div class="todayAmt">0</div>
                                    </div>
                                </div>
                            </div>

                            <div id="line-dmt6" style="height: 150px; width:100%;background-color:white"></div>

                            <div class="col-sm-12 p-2 text-center text-white bg-grey ml-0" style="font-size: 12px;">
                                <div class="row">
                                    <div class="col-sm-3">
                                        <div class="lmtdCount">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="mtdCount">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="lastCount">0</div>
                                    </div>
                                    <div class="col-sm-3">
                                        <div class="todayCount">0</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!--<div class="col-3">
            <div class="row">
                <div class="col-md-12">
                    <section id="bannerSection">-->
                <!--Banner Slider Section will be bind here at runtime-->
                <!--</section>
                </div>
            </div>

            <div class="row">
                <div class="col-md-12">
                    <section id="helpInfoSection">-->
                <!--HelpInfo Section will be bind here at runtime-->
                <!--</section>
                    </div>
                </div>
            </div>-->
            </div>
        </div>

    </div>
</div>



<script src="~/lib/jquery/dist/jquery.js"></script>
<script src="~/js/chart/armchart/core.js"></script>
<script src="~/js/chart/armchart/charts.js"></script>
<script src="~/js/chart/armchart/themes/dataviz.js"></script>
<script src="~/js/chart/armchart/themes/frozen.js"></script>
<script src="~/js/chart/armchart/themes/moonrisekingdom.js"></script>
<script src="~/js/chart/armchart/animated.js"></script>

<script src="~/js/chart/chart-utility.js"></script>
<script src="~/js/chart-data/recent-transaction-chart.js"></script>



<script>
    let amChartStatic = new amChartUtility().amChartUtility;
    $(document).ready(function () {
        recentDaysTransactionChart_APIUser("line-dmt", amChartStatic.chartType.zoomableAxis, amChartStatic.chartTheme.none, "Recharge", { ServiceTypeID: 1 },true);
        recentDaysTransactionChart_APIUser("line-dmt2", amChartStatic.chartType.zoomableAxis, amChartStatic.chartTheme.dataviz, "Bill Payments", { ServiceTypeID: 11 }, true);
        recentDaysTransactionChart_APIUser("line-dmt3", amChartStatic.chartType.zoomableAxis, amChartStatic.chartTheme.moonrisekingdom, "Money Transfer", { ServiceTypeID: 2 }, true);
        recentDaysTransactionChart_APIUser("line-dmt4", amChartStatic.chartType.zoomableAxis, amChartStatic.chartTheme.none, "AEPS", { ServiceTypeID: 17 }, true);
        recentDaysTransactionChart_APIUser("line-dmt5", amChartStatic.chartType.zoomableAxis, amChartStatic.chartTheme.dataviz, "Mini ATM", { ServiceTypeID: 34 }, true);
        recentDaysTransactionChart_APIUser("line-dmt6", amChartStatic.chartType.zoomableAxis, amChartStatic.chartTheme.moonrisekingdom, "Pan Card", { ServiceTypeID: 25 }, true);
        recentDaysPriSecTerTransaction("line-dmt7", amChartStatic.chartType.bar, amChartStatic.chartTheme.none, "Primary", { PriSecTerType: 1 }, true);
        //recentDaysPriSecTerTransaction("line-dmt8", amChartStatic.chartType.line, amChartStatic.chartTheme.dataviz, "Secondary", { PriSecTerType: 2 });
        recentDaysPriSecTerTransaction("line-dmt9", amChartStatic.chartType.bar, amChartStatic.chartTheme.moonrisekingdom, "Tertiary", { PriSecTerType: 3 }, true);

        refreshMonthWeekDayGraph({ ActivityType: "daily", RequestedDataType: 1, ServiceTypeID: 0 });
        refreshTodaySplitGraph({ RequestedDataType: 1 });
        refreshServiceWiseTransactionStatus({ RequestedDataType: 1 });
    })

    $(".btnActivityType").on("click", function () {
        $(".btnActivityType").removeClass("active");
        $(this).addClass("active");

        var activityType = $(this).data("value");
        var requestType = $(".btnRequestType.active").data("value");
        var serviceTypeId = $("#servicelist").val().trim();
        refreshMonthWeekDayGraph({ ActivityType: activityType, RequestedDataType: parseInt(requestType), ServiceTypeID: parseInt(serviceTypeId) });
    })

    $(".btnRequestType").on("click", function () {
        $(".btnRequestType").removeClass("active");
        $(this).addClass("active");

        var requestType = $(this).data("value");
        var activityType = $(".btnActivityType.active").data("value");
        var serviceTypeId = $("#servicelist").val().trim();
        refreshMonthWeekDayGraph({ ActivityType: activityType, RequestedDataType: parseInt(requestType), ServiceTypeID: parseInt(serviceTypeId) });
    })

    $("#servicelist").on("change", function () {
        var activityType = $(".btnActivityType.active").data("value");
        var requestType = $(".btnRequestType.active").data("value");
        var serviceTypeId = $(this).val().trim();
        refreshMonthWeekDayGraph({ ActivityType: activityType, RequestedDataType: parseInt(requestType), ServiceTypeID: parseInt(serviceTypeId) });
    })

    $(".btnSplitRequestType").on("click", function () {
        $(".btnSplitRequestType").removeClass("active");
        $(this).addClass("active");

        var requestType = $(this).data("value");
        refreshTodaySplitGraph({ RequestedDataType: parseInt(requestType) });
    })

    var refreshMonthWeekDayGraph = function (dataObject) {
        let isAmountType = dataObject.RequestedDataType == 1;
        monthlyWiseTransactionChart(dataObject, "", "month-chart", amChartStatic.chartType.lineWithPoint, amChartStatic.chartTheme.frozen, isAmountType);
    }

    var refreshTodaySplitGraph = function (dataObject) {
        let isAmountType = dataObject.RequestedDataType == 1;
        todaySplitTransactionChart(dataObject, "", "today-split-chart", amChartStatic.chartType.pieChartSlice, amChartStatic.chartTheme.frozen, isAmountType);
    }
</script>